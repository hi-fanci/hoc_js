<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài 1: Object</title>

    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body class="app">
    <main class="app_wrap">
        <div class="app_slider">
            <div class="item in_center">
                <div class="overflow">
                    <div class="item_content">
                        <h2>Object trong Javascript</h2>
                        <p>Object trong JavaScript là một khái niệm trừu tượng dùng để biểu diễn một vật thể (cụ thể). Trong đó, các thuộc tính dùng để miêu tả đặc điểm, tính chất của đối tượng</p>

                        <h3>Bản chất của Object</h3>
                        <h4>
                            Object là tập hợp của các key và value. Với key gọi là thuộc tính, còn value là giá trị của thuộc tính.
                        </h4>
                        <p>
                            Ví dụ: bạn có 1 chiếc máy tính, nó sẽ bao gồm các thuộc tính cơ bản như hãng, giá, hệ điều hành...
                            <br>Trong Object, nó sẽ được biểu diễn như sau:
                        </p>
                        <ul class="pre">
                            <li>
                                let _computer = {
                                <dl>
                                    <dt>brand</dt>
                                    <dd>'Acer'</dd>
                                </dl>
                                <dl>
                                    <dt>price</dt>
                                    <dd>'200.000.000vnd'</dd>
                                </dl>
                                <dl>
                                    <dt>os</dt>
                                    <dd>'Windows 10'</dd>
                                </dl>
                                };
                            </li>
                        </ul>
                        <p>
                            Các cặp key-value được tách bởi dấu : và kết thúc bởi dấu ,
                        </p>
                        <p>value có thể được dùng ở nhiều dạng khác nhau như, số, chuỗi, biến, hằng, array, object, function</p>

                        <h3>Thao tác trên Object</h3>
                        <h5>Thêm</h5>
                        <p>Để thêm 1 thuộc tính vào object ta làm như sau, object_name.key = value;</p>
                        <p>Ví dụ, thêm 1 thuộc tính có key là "date", value là "25/6/2025":</p>
                        <ul class="pre">
                            <li>
                                _computer.date = "25/6/2025";
                            </li>
                            <li><c-func>console.log</c-func>( _computer.date ); <c-cmt>// 25/6/2025</c-cmt></li>
                        </ul>

                        <h5>Cập nhật</h5>
                        <p>Để cập nhật 1 giá trị của object, bạn làm cách tương tự thêm mới.</p>
                        <p>Ví dụ, cập nhật thuộc tính "date" thành "30/6/2020":</p>
                        <ul class="pre">
                            <li>
                                _computer.date = "30/6/2020";
                            </li>
                            <li><c-func>console.log</c-func>( _computer.date ); <c-cmt>// 30/6/2020</c-cmt></li>
                        </ul>

                        <h5>Xoá</h5>
                        <p>Để xoá 1 thuộc tính của object, bạn dùng delete.</p>
                        <p>Ví dụ, xoá thuộc tính "date":</p>
                        <ul class="pre">
                            <li>
                                delete _computer.date;
                            </li>
                            <li><c-func>console.log</c-func>( _computer.date ); <c-cmt>// undefined</c-cmt></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="item">
                <div class="overflow">
                    <div class="item_content">
                        <h2>Nâng cao</h2>
                        <!--  -->
                        <h3>Khai báo đè thuộc tính</h3>
                        <p>Thuộc tính của object được đọc từ trên xuống, do đó, các thuộc tính trùng tên ở phía sau sẽ ghi đè lên các thuộc tính phía trên.</p>
                        <p>Ví dụ:</p>
                        <ul class="pre">
                            <li>
                                let _country = {
                                <dl>
                                    <dt>vn</dt>
                                    <dd>'VN'</dd>
                                </dl>
                                <dl>
                                    <dt>vn</dt>
                                    <dd>'Việt Nam'</dd>
                                </dl>
                                };
                            </li>
                            <li><c-func>console.log</c-func> ( _country.vn ); <c-cmt>// Việt Nam</c-cmt></li>
                        </ul>
                        <!--  -->

                        <h3>Sử dụng với chuỗi</h3>
                        <p>Khi thuộc tính được biểu diễn dưới dạng 1 chuỗi, bạn không thể dùng toán tử . như cách bình thường được, mà bắt buộc phải dùng toán tử [].</p>
                        <p>Ví dụ:</p>
                        <ul class="pre">
                            <li>
                                let _phone = {
                                <dl>
                                    <dt>name</dt>
                                    <dd>'Vivo v25'</dd>
                                </dl>
                                <dl>
                                    <dt>price</dt>
                                    <dd>'10.000.000vnd'</dd>
                                </dl>
                                <dl>
                                    <dt>'sale off'</dt>
                                    <dd>'10%'</dd>
                                </dl>
                                };
                            </li>
                            <li><c-cmt>
                                    // do 'sale off' là một chuỗi nên bạn không thể dùng . trực tiếp được,
                                    <br>// thay vào đó, bạn làm như sau:</c-cmt></li>
                            <li><c-func>console.log</c-func> ( _phone.'sale off' ); <c-cmt>// Uncaught SyntaxError: Unexpected string</c-cmt></li>
                            <li><c-func>console.log</c-func> ( _phone['sale off'] ); <c-cmt>// 10%</c-cmt></li>
                        </ul>
                        <!--  -->

                        <h3>Sử dụng với biến</h3>
                        <p>Tương tự chuỗi, biến củng không thể lấy trực tiếp được, do biến có thể hiểu lầm là 1 thuộc tính.</p>
                        <ul class="pre">
                            <li>
                                let _phone = {
                                <dl>
                                    <dt>name</dt>
                                    <dd>'Vivo v25'</dd>
                                </dl>
                                <dl>
                                    <dt>price</dt>
                                    <dd>'10.000.000vnd'</dd>
                                </dl>
                                <dl>
                                    <dt>'sale off'</dt>
                                    <dd>'10%'</dd>
                                </dl>
                                };
                            </li>
                            <li>
                                let _sale_off = 'sale off';
                            </li>
                            <li><c-func>console.log</c-func> ( _phone._sale_off ); <c-cmt>// undefined, do _phone không có thuộc tính _sale_off</c-cmt></li>
                            <li><c-func>console.log</c-func> ( _phone[_sale_off] ); <c-cmt>// 10%</c-cmt></li>
                        </ul>
                        <!--  -->

                        <h3>Sử dụng với thuộc tính là function</h3>
                        <ul class="pre">
                            <li>
                                let _phone = {
                                <dl>
                                    <dt>name</dt>
                                    <dd>'Vivo v25'</dd>
                                </dl>
                                <ul>
                                    <li>get_price: function(){</li>
                                    <ul>
                                        <li>console.log('10.000.000vnd');</li>
                                    </ul>
                                    <li>}</li>
                                </ul>
                                };
                            </li>
                            <li><c-func>console.log</c-func> ( _phone.get_price ); <c-cmt>// function () { console.log( '10.000.000vnd' ) }</c-cmt></li>
                            <li><c-func>console.log</c-func> ( _phone.get_price() ); <c-cmt>// '10.000.000vnd'</c-cmt></li>
                        </ul>
                        <p>Bạn sẽ thấy là gọi function mà không có toán tử () thì fucntion sẽ trả về dưới dạng cấu trúc của funtion đó.</p>
                    </div>
                </div>
            </div>

            <div class="item">
                <div class="overflow">
                    <div class="item_content">
                        <h2>So sánh 2 object</h2>
                        <h4>
                            Mình có 2 toán tử so sánh bằng đó là == và ===.
                            <br>Trong đó:
                            <br>Toán tử == trả về true khi cả 2 có cùng giá trị, không quan tâm đến kiểu dữ liệu.
                            <br>Toán tử === trả về true chỉ khi cả 2 có cùng giá trị và cùng kiểu dữ liệu ( xem lại bài <a href="">Kiểu dữ liệu</a>).
                        </h4>

                        <div>
                            <h3>Cơ bản về kiểu tham chiếu</h3>
                            <p>Do object là 1 kiểu dữ liệu tham chiếu, nên việc so sánh giữa 2 object sẽ khó khăn hơn.</p>
                            <p>Ví dụ:</p>
                            <ul class="pre">
                                <li>
                                    let _p1 = {
                                    <dl>
                                        <dt>x</dt>
                                        <dd>10</dd>
                                    </dl>
                                    };
                                </li>
                                <li>
                                    let _p2 = _p1;
                                </li>
                            </ul>
                            <p>
                                Ban đầu mình có 2 object là _p1 và _p2, như trên, đặc biệt là _p2 = _p1.
                                <br>Tiếp theo, mình cập nhật giá trị x ở _p1 .
                            </p>
                            <ul class="pre">
                                <li>
                                    _p1.x = 1000;
                                </li>
                                <li><c-func>console.log</c-func> ( _p1.x ); <c-cmt>// 1000</c-cmt></li>
                            </ul>
                            <p>Thì một điều đặc biệt xảy ra, giá trị x ở _p2 củng thay đổi theo.</p>
                            <ul class="pre">
                                <li><c-func>console.log</c-func> ( _p2.x ); <c-cmt>// 1000</c-cmt></li>
                            </ul>
                            <p>Đây chính là đặc điểm cơ bản của kiểu dữ liệu tham chiếu, _p1 và _p2 cùng trỏ vào một vùng nhớ giống nhau.</p>
                        </div>
                        <!--  -->

                        <div>
                            <h3>So sánh bằng tham chiếu</h3>

                            <ul class="pre">
                                <li>
                                    let _p1 = {
                                    <dl>
                                        <dt>x</dt>
                                        <dd>10</dd>
                                    </dl>
                                    };
                                </li>
                                <li>
                                    let _p2 = _p1;
                                </li>
                                <li><c-func>console.log</c-func> ( _p1 == _p2 ); <c-cmt>// true</c-cmt></li>
                                <li><c-func>console.log</c-func> ( _p1 === _p2 ); <c-cmt>// true</c-cmt></li>
                            </ul>
                            <p>Vì _p1 và _p2 cùng tham chiếu đến một địa chỉ vùng nhớ, nên chúng hoàn toàn bằng nhau.</p>
                            <ul class="pre">
                                <li>
                                    let _p1 = {};
                                </li>
                                <li>
                                    let _p2 = {};
                                </li>
                                <li><c-func>console.log</c-func> ( _p1 == _p2 ); <c-cmt>// false</c-cmt></li>
                                <li><c-func>console.log</c-func> ( _p1 === _p2 ); <c-cmt>// false</c-cmt></li>
                            </ul>
                            <p>Vì _p1 và _p2 được khỏi tạo dưới dạng 2 địa chỉ vùng nhớ khác nhau, nên chúng hoàn toàn khác nhau.</p>
                        </div>
                        <!--  -->

                        <div>
                            <h3>So sánh thủ công</h3>
                            <p>Việc so sánh thủ công này đối với các object có ít thuộc tính, ít tính biến đổi và các thuộc tính phải giống nhau.</p>
                            <p>Ví dụ:</p>
                            <ul class="pre">
                                <li>
                                    let _p1 = {
                                    <dl>
                                        <dt>x</dt>
                                        <dd>10</dd>
                                    </dl>
                                    <dl>
                                        <dt>y</dt>
                                        <dd>5</dd>
                                    </dl>
                                    };
                                </li>
                                <li>
                                    let _p2 = {
                                    <dl>
                                        <dt>x</dt>
                                        <dd>10</dd>
                                    </dl>
                                    <dl>
                                        <dt>y</dt>
                                        <dd>5</dd>
                                    </dl>
                                    };
                                </li>
                                <li>
                                    let _p3 = {
                                    <dl>
                                        <dt>x</dt>
                                        <dd>5</dd>
                                    </dl>
                                    <dl>
                                        <dt>y</dt>
                                        <dd>10</dd>
                                    </dl>
                                    };
                                </li>
                                <li>
                                    if ( _p1.x === _p2.x && _p1.y === _p2.y ) {
                                    <ul>
                                        <li>
                                            <c-func>console.log</c-func> ( '_p1 = _p2' );
                                        </li>
                                    </ul>
                                    } else {
                                    <ul>
                                        <li>
                                            <c-func>console.log</c-func> ( '_p1 != _p2' );
                                        </li>
                                    </ul>
                                    }
                                </li>
                                <li>
                                    <c-cmt>// _p1 = _p2</c-cmt>
                                    <br>
                                    <br>
                                </li>
                                <li>
                                    if ( _p1.x === _p3.x && _p1.y === _p3.y ) {
                                    <ul>
                                        <li>
                                            <c-func>console.log</c-func> ( '_p1 = _p3' );
                                        </li>
                                    </ul>
                                    } else {
                                    <ul>
                                        <li>
                                            <c-func>console.log</c-func> ( '_p1 != _p3' );
                                        </li>
                                    </ul>
                                    }
                                    <c-cmt>// _p1 != _p3</c-cmt>
                                </li>
                            </ul>
                            <p>Việc so sánh như vậy vẫn trả lại kết quả đúng như mong đợi, nhưng khi bạn muốn thay đổi thuộc tính, thì toàn bộ code so sánh ở trên sẽ phải thay đổi, nếu dùng ở nhiều nơi thì phải sửa lại toàn bộ.</p>
                            <h4>Do việc so sánh khá phức tạp nên việc lấy 2 object mang ra so sánh rất ít gặp, dù vậy thì bạn vẫn nên tìm hiểu về cách so sánh giữa 2 object để sau này có thể sẽ dùng tới.</h4>
                        </div>
                    </div>
                </div>
            </div>

            <div class="item">
                <div class="overflow">
                    <div class="item_content">
                        <h2>Copy object với assign</h2>

                        <div>
                            <h3>Object.assign( dest, [src1, src2, ...] )</h3>
                            <p>Phương thức này sẽ copy toàn bộ thuộc tính của object gốc [src1, src2, ...] vào object mới [dest].</p>
                            <p>Ví dụ:</p>
                            <ul class="pre">
                                <li>
                                    let _origin = {
                                    <dl>
                                        <dt>name</dt>
                                        <dd>'hihi'</dd>
                                    </dl>
                                    };
                                </li>
                                <li>
                                    let _new = {};
                                </li>
                                <li>
                                    Object.assign( _new, _origin );
                                </li>
                                <li>
                                    <c-func>console.log</c-func>( _new ); <c-cmt>// { name: 'hihi'}</c-cmt>
                                </li>
                            </ul>
                        </div>
                        <!--  -->
                    </div>
                </div>
            </div>

            <div class="item">
                <div class="overflow">
                    <div class="item_content">
                        <h2>Copy object với spread ...</h2>

                        <div>
                            <h3>spread ...</h3>
                            <p>Rất đơn giãn, bạn chỉ việc tạo một object mới bằng cách { ... object_origin }</p>
                            <ul class="pre">
                                <li>
                                    let _origin = {
                                    <dl>
                                        <dt>name</dt>
                                        <dd>'hihi'</dd>
                                    </dl>
                                    <dl>
                                        <dt>hobby</dt>
                                        <dd>{
                                            <dl>
                                                <dt>colors</dt>
                                                <dd>'red'</dd>
                                            </dl>
                                            <dl>
                                                <dt>number</dt>
                                                <dd>100</dd>
                                            </dl>
                                            }
                                        </dd>
                                    </dl>
                                    };
                                </li>
                                <li>
                                    let _new = { ..._origin };
                                </li>
                                <li>
                                    <c-func>console.log</c-func>( _new ); <c-cmt>// { name: 'hihi', hobby: { color: 'red', number: 100}}</c-cmt>
                                </li>
                            </ul>
                        </div>
                        <!--  -->
                    </div>
                </div>
            </div>

            <div class="item">
                <div class="overflow">
                    <div class="item_content">
                        <h2>JSON.stringify() và JSON.parse()</h2>

                        <div>
                            <h4>Việc copy bằng Object.assign() và spead ... chỉ hoạt động ở object bậc 1.</h4>
                            <p>Ví dụ khi object là bậc 2 trở lên:</p>
                            <ul class="pre">
                                <li>
                                    let _origin = {
                                    <dl>
                                        <dt>name</dt>
                                        <dd>'hihi'</dd>
                                    </dl>
                                    <dl>
                                        <dt>hobby</dt>
                                        <dd>{
                                            <dl>
                                                <dt>colors</dt>
                                                <dd>'red'</dd>
                                            </dl>
                                            <dl>
                                                <dt>number</dt>
                                                <dd>100</dd>
                                            </dl>
                                            }
                                        </dd>
                                    </dl>
                                    };
                                </li>
                                <li>
                                    let _new = {};
                                </li>
                                <li>
                                    Object.assign( _new, _origin );
                                </li>
                                <li>
                                    <c-func>console.log</c-func>( _new ); <c-cmt>// { name: 'hihi', hobby: { color: 'red', number: 100}}</c-cmt>
                                </li>
                            </ul>
                            <p>
                                Hiện tại việc copy vẫn đúng.
                                <br>Bây giờ mình sẽ chỉnh sửa giá trị của _new.
                            </p>
                            <ul class="pre">
                                <li>
                                    _new.hobby.colors = 'blue';
                                </li>
                                <li>
                                    <c-func>console.log</c-func>( _new.hobby.colors ); <c-cmt>// 'blue'</c-cmt>
                                </li>
                                <li>
                                    <c-func>console.log</c-func>( _origin.hobby.colors ); <c-cmt>// 'blue'</c-cmt>
                                </li>
                            </ul>
                            <p>Bạn sẽ thấy là cả _origin và _new đều trả về kết quả giống nhau, vì việc copy chỉ hoạt động trên bậc 1, trong khi bậc 2 vẫn đang được tham chiếu đến cùng 1 địa chỉ.</p>
                        </div>
                        <!--  -->

                        <div>
                            <h3>Giải quyết</h3>
                            <p>Để copy được toàn bộ thuộc tính của object bậc 2 trở lên, mình thường dùng JSON.stringify(), bằng cách này toàn bộ object sẽ trả về 1 chuỗi duy nhất, và sau đó khôi phục nó với JSON.parse(), và gán vào object mới.</p>
                            <p>Ví dụ:</p>
                            <ul class="pre">
                                <li>
                                    let _origin = {
                                    <dl>
                                        <dt>name</dt>
                                        <dd>'hihi'</dd>
                                    </dl>
                                    <dl>
                                        <dt>hobby</dt>
                                        <dd>{
                                            <dl>
                                                <dt>colors</dt>
                                                <dd>'red'</dd>
                                            </dl>
                                            <dl>
                                                <dt>number</dt>
                                                <dd>100</dd>
                                            </dl>
                                            }
                                        </dd>
                                    </dl>
                                    };
                                </li>
                                <li>
                                    let _new = JSON.parse( JSON.stringify( _origin ) );
                                </li>
                                <li>
                                    <c-func>console.log</c-func>( _new ); <c-cmt>// { name: 'hihi', hobby: { color: 'red', number: 100}}</c-cmt>
                                </li>
                            </ul>
                            <p>Bây giờ mình sẽ chỉnh sửa giá trị của _new.</p>
                            <ul class="pre">
                                <li>
                                    _new.hobby.colors = 'blue';
                                </li>
                                <li>
                                    <c-func>console.log</c-func>( _new.hobby.colors ); <c-cmt>// 'blue'</c-cmt>
                                </li>
                                <li>
                                    <c-func>console.log</c-func>( _origin.hobby.colors ); <c-cmt>// 'red'</c-cmt>
                                </li>
                            </ul>
                            <p>Bạn sẽ thấy là giá trị thuộc tính đã được thay đổi mà không ảnh hưởng đến object gốc.</p>

                            <h4>Tuy nhiên, vẫn còn hạn chế đối với giá trị của thuộc tính là một function()</h4>
                            <p>Ví dụ:</p>
                            <ul class="pre">
                                <li>
                                    let _origin = {
                                    <dl>
                                        <dt>name</dt>
                                        <dd>'hihi'</dd>
                                    </dl>
                                    <ul>
                                        <li>get_hobby: function() {</li>
                                        <ul>
                                            <li><c-func>console.log</c-func>( 'candy' );</li>
                                        </ul>
                                        <li>}</li>
                                    </ul>
                                    };
                                </li>
                                <li>
                                    let _new = JSON.parse( JSON.stringify( _origin ) );
                                </li>
                                <li>
                                    <c-func>console.log</c-func>( _new ); <c-cmt>// { name: 'hihi'}</c-cmt>
                                </li>
                            </ul>
                            <p>Bạn sẽ thấy là get_hobby sẽ không xuất hiện trong object _new, do giới hạn của JSON.stringify mà giá trị của thuộc tính là function sẽ bị bỏ qua.</p>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="app_slider_arrows">
            <div class="item_prev is_disable">Lùi lại</div>
            <div class="item_next">Tiếp theo</div>
            <a href="./b2.html" class="item_next_lesson is_disable">Bài tiếp theo</a>
        </div>
    </main>
    <script src="./assets/js/jquery-3.7.1.min.js"></script>
    <script src="./assets/js/common.js"></script>
</body>

</html>